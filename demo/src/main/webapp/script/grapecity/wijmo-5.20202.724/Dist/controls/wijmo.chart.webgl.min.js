/*!
    *
    * Wijmo Library 5.20202.724
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var wijmo,__extends=this&&this.__extends||function(){var extendStatics=function(t,i){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)};return function(t,i){extendStatics(t,i);function __(){this.constructor=t}t.prototype=null===i?Object.create(i):(__.prototype=i.prototype,new __)}}();!function(t){!function(i){!function(i){var e=function(i){__extends(WebGLRenderEngine,i);function WebGLRenderEngine(t){var e=i.call(this,t)||this;e.primitives=[];e.clipRects={};e.init();return e}WebGLRenderEngine.prototype.beginRender=function(){i.prototype.beginRender.call(this);this.isIE?this.element.appendChild(this.canvas):this.element.appendChild(this.foCanvas);var t=this.gl;t.viewport(0,0,t.canvas.width,t.canvas.height);t.clearColor(0,0,0,0);t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);t.enable(t.BLEND);t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);this.primitives.forEach((function(t){return t.beginRender()}));this.clipRects={}};WebGLRenderEngine.prototype.setViewportSize=function(t,e){i.prototype.setViewportSize.call(this,t,e);if(this.foCanvas){this.foCanvas.setAttribute("width",t.toString());this.foCanvas.setAttribute("height",e.toString())}var r=this.gl;r.canvas.width=t;r.canvas.height=e};WebGLRenderEngine.prototype.endRender=function(){this.primitives.forEach((function(t){return t.endRender()}));i.prototype.endRender.call(this);if(this.isIE){var t=document.createElementNS(WebGLRenderEngine.svgns,"image");t.setAttribute("width",this.gl.canvas.width);t.setAttribute("height",this.gl.canvas.height);t.setAttribute("href",this.canvas.toDataURL());this.element.appendChild(t);this.element.removeChild(this.canvas)}};WebGLRenderEngine.prototype.drawEllipse=function(i,e,r,n,o,s){this.edraw.drawEllipse(new t.Rect(i-r,e-n,2*r,2*n),this.fill);return null};WebGLRenderEngine.prototype.drawRect=function(e,r,n,o,s,a,h){if("wj-plot-area"==this._groupCls)return i.prototype.drawRect.call(this,e,r,n,o,s,a,h);this.rdraw.drawRect(new t.Rect(e,r,n,o),this.fill);return null};WebGLRenderEngine.prototype.drawLines=function(t,i,e,r,n,o){this.ldraw.drawLines(t,i,o,this.stroke,n?this.clipRects[n]:null);return null};WebGLRenderEngine.prototype.drawPolygon=function(t,i,e,r,n){this.adraw.drawPolygon(t,i,this.fill,n?this.clipRects[n]:null);return null};WebGLRenderEngine.prototype.addClipRect=function(t,e){i.prototype.addClipRect.call(this,t,e);t&&e&&(this.clipRects[e]=t)};WebGLRenderEngine.prototype.init=function(){this.canvas=document.createElement("canvas");this.gl=this.canvas.getContext("webgl");if(this.gl){this.canvas.setAttribute("style","margin:0px;padding:0px;border:none");var t=document.createElementNS("http://www.w3.org/1999/xhtml","div");t.setAttribute("style","margin:0px;padding:0px;border:none");this.foCanvas=document.createElementNS(WebGLRenderEngine.svgns,"foreignObject");t.appendChild(this.canvas);this.foCanvas.appendChild(t)}else{this.gl=this.canvas.getContext("experimental-webgl");this.isIE=!0;this.canvas.setAttribute("style","visibility:hidden;position:absolute;top:-1000px;margin:0px;padding:0px;border:none")}this.rdraw=new n(this.gl);this.edraw=new o(this.gl);this.ldraw=new s(this.gl);this.adraw=new a(this.gl);this.primitives.push(this.rdraw,this.edraw,this.ldraw,this.adraw)};WebGLRenderEngine.svgns="http://www.w3.org/2000/svg";return WebGLRenderEngine}(t.chart._SvgRenderEngine);i.WebGLRenderEngine=e;var r=function(){function _GLDrawBase(t){this._vsSource="\n    attribute vec2 a_position;\n    \n    uniform vec2 u_resolution;\n    \n    void main() {\n      vec2 zeroToOne = a_position / u_resolution;\n      vec2 zeroToTwo = zeroToOne * 2.0;\n      vec2 clipSpace = zeroToTwo - 1.0;\n      gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n    }\n    ";this._fsSource="\n    precision mediump float;\n    uniform vec4 u_color;\n    void main() {\n      gl_FragColor = u_color;\n    }\n    ";this.gl=t}_GLDrawBase.prototype.init=function(){var t=this.gl;this.shaderProgram=this.initShaderProgram(this.vsSource,this.fsSource);this.positionAttributeLocation=t.getAttribLocation(this.shaderProgram,"a_position");this.resolutionUniformLocation=t.getUniformLocation(this.shaderProgram,"u_resolution");this.colorLocation=t.getUniformLocation(this.shaderProgram,"u_color");t.useProgram(this.shaderProgram);this.positionBuffer=t.createBuffer()};_GLDrawBase.prototype.beginRender=function(){var t=this.gl;t.useProgram(this.shaderProgram);t.uniform2f(this.resolutionUniformLocation,t.canvas.width,t.canvas.height)};_GLDrawBase.prototype.endRender=function(){this.flush()};_GLDrawBase.prototype.flush=function(){};_GLDrawBase.prototype.initShaderProgram=function(t,i){var e=this.gl,r=this.loadShader(e.VERTEX_SHADER,t),n=this.loadShader(e.FRAGMENT_SHADER,i),o=e.createProgram();e.attachShader(o,r);e.attachShader(o,n);e.linkProgram(o);if(!e.getProgramParameter(o,e.LINK_STATUS)){alert("Unable to initialize the shader program: "+e.getProgramInfoLog(o));return null}return o};_GLDrawBase.prototype.loadShader=function(t,i){var e=this.gl,r=e.createShader(t);e.shaderSource(r,i);e.compileShader(r);if(!e.getShaderParameter(r,e.COMPILE_STATUS)){alert("An error occurred compiling the shaders: "+e.getShaderInfoLog(r));e.deleteShader(r);return null}return r};Object.defineProperty(_GLDrawBase.prototype,"vsSource",{get:function(){return this._vsSource},enumerable:!0,configurable:!0});Object.defineProperty(_GLDrawBase.prototype,"fsSource",{get:function(){return this._fsSource},enumerable:!0,configurable:!0});return _GLDrawBase}(),n=function(i){__extends(_GLDrawRect,i);function _GLDrawRect(t){var e=i.call(this,t)||this;e.BUFFER_SIZE=1e4;e.bufRects=[];e.bufLen=0;e.init();return e}_GLDrawRect.prototype.initBuffers=function(){if(!this.buffer){var t=this.gl;this.buffer=new Float32Array(12*this.BUFFER_SIZE);this.bufRects=new Array(this.BUFFER_SIZE);t.enableVertexAttribArray(this.positionAttributeLocation);t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer);t.vertexAttribPointer(this.positionAttributeLocation,2,t.FLOAT,!1,0,0);t.bufferData(t.ARRAY_BUFFER,4*this.buffer.length,t.DYNAMIC_DRAW)}};_GLDrawRect.prototype.drawRect=function(t,i){this.initBuffers();if(i!==this.previousFill){this.flush();this.previousFill=i}this.bufRects[this.bufLen++]=t;this.bufLen>=this.BUFFER_SIZE&&this.flush()};_GLDrawRect.prototype.flush=function(){if(0!=this.bufLen){var i=this.gl;i.useProgram(this.shaderProgram);var e=new t.Color(this.previousFill);i.uniform4f(this.colorLocation,e.r/255,e.g/255,e.b/255,e.a);i.enableVertexAttribArray(this.positionAttributeLocation);i.bindBuffer(i.ARRAY_BUFFER,this.positionBuffer);i.vertexAttribPointer(this.positionAttributeLocation,2,i.FLOAT,!1,0,0);this.setData();i.enableVertexAttribArray(this.positionAttributeLocation);i.bindBuffer(i.ARRAY_BUFFER,this.positionBuffer);i.vertexAttribPointer(this.positionAttributeLocation,2,i.FLOAT,!1,0,0);i.drawArrays(i.TRIANGLES,0,6*this.bufLen);this.bufLen=0}};_GLDrawRect.prototype.setData=function(){for(var t=this.gl,i=this.bufLen,e=this.buffer,r=0;r<i;r++){var n=this.bufRects[r],o=n.left,s=n.right,a=n.top,h=n.bottom,u=12*r;e[u]=o;e[u+1]=a;e[u+2]=s;e[u+3]=a;e[u+4]=o;e[u+5]=h;e[u+6]=o;e[u+7]=h;e[u+8]=s;e[u+9]=a;e[u+10]=s;e[u+11]=h}t.bufferSubData(t.ARRAY_BUFFER,0,e.subarray(0,12*i))};return _GLDrawRect}(r),o=function(i){__extends(_GLDrawEllipse,i);function _GLDrawEllipse(t){var e=i.call(this,t)||this;e.NTRIANGLES=12;e.BUFFER_SIZE=1e4;e.bufRects=new Array(e.BUFFER_SIZE);e.bufLen=0;e.sin1=new Float32Array(e.NTRIANGLES);e.sin2=new Float32Array(e.NTRIANGLES);e.cos1=new Float32Array(e.NTRIANGLES);e.cos2=new Float32Array(e.NTRIANGLES);e.data=new Float32Array(e.BUFFER_SIZE*e.NTRIANGLES*6);for(var r=2*Math.PI/e.NTRIANGLES,n=0;n<e.NTRIANGLES;n++){var o=r*n;e.sin1[n]=Math.sin(o);e.cos1[n]=Math.cos(o);e.sin2[n]=Math.sin(o+r);e.cos2[n]=Math.cos(o+r)}e.init();t.enableVertexAttribArray(e.positionAttributeLocation);t.bindBuffer(t.ARRAY_BUFFER,e.positionBuffer);t.vertexAttribPointer(e.positionAttributeLocation,2,t.FLOAT,!1,0,0);t.bufferData(t.ARRAY_BUFFER,4*e.data.length,t.DYNAMIC_DRAW);return e}_GLDrawEllipse.prototype.drawEllipse=function(t,i){if(i!==this.previousFill){this.flush();this.previousFill=i}this.bufRects[this.bufLen++]=t;this.bufLen>=this.BUFFER_SIZE&&this.flush()};_GLDrawEllipse.prototype.flush=function(){if(0!=this.bufLen){var i=this.gl;i.useProgram(this.shaderProgram);var e=new t.Color(this.previousFill);i.uniform4f(this.colorLocation,e.r/255,e.g/255,e.b/255,e.a);i.enableVertexAttribArray(this.positionAttributeLocation);i.bindBuffer(i.ARRAY_BUFFER,this.positionBuffer);i.vertexAttribPointer(this.positionAttributeLocation,2,i.FLOAT,!1,0,0);this.setData();i.enableVertexAttribArray(this.positionAttributeLocation);i.bindBuffer(i.ARRAY_BUFFER,this.positionBuffer);i.vertexAttribPointer(this.positionAttributeLocation,2,i.FLOAT,!1,0,0);i.drawArrays(i.TRIANGLES,0,this.bufLen*this.NTRIANGLES*3);this.bufLen=0}};_GLDrawEllipse.prototype.setData=function(){for(var t=this.gl,i=this.bufLen,e=this.data,r=0,n=0;n<i;n++)for(var o=this.bufRects[n],s=.5*o.width,a=.5*o.height,h=o.left+s,u=o.top+a,f=0;f<this.NTRIANGLES;f++){e[r=6*(n*this.NTRIANGLES+f)]=h;e[r+1]=u;e[r+2]=h+s*this.sin1[f];e[r+3]=u+a*this.cos1[f];e[r+4]=h+s*this.sin2[f];e[r+5]=u+a*this.cos2[f]}t.bufferSubData(t.ARRAY_BUFFER,0,e.subarray(0,r+6))};return _GLDrawEllipse}(r),s=(function(i){__extends(_GLDrawPoints,i);function _GLDrawPoints(t){var e=i.call(this,t)||this;e.BUFFER_SIZE=1e5;e.bufferLen=0;e._vsSource1="\n    attribute vec2 a_position;\n    uniform vec2 u_resolution;\n    void main() {\n      vec2 zeroToOne = a_position / u_resolution;\n      vec2 zeroToTwo = zeroToOne * 2.0;\n      vec2 clipSpace = zeroToTwo - 1.0;\n      gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n      gl_PointSize = 5.0;\n    }\n    ";e.init();return e}_GLDrawPoints.prototype.initBuffers=function(){if(!this.buffer){var t=this.gl;this.buffer=new Float32Array(this.BUFFER_SIZE);t.enableVertexAttribArray(this.positionAttributeLocation);t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer);t.vertexAttribPointer(this.positionAttributeLocation,2,t.FLOAT,!1,0,0);t.bufferData(t.ARRAY_BUFFER,4*this.buffer.length,t.DYNAMIC_DRAW)}};_GLDrawPoints.prototype.drawPoint=function(t,i){this.initBuffers();if(i!==this.previousFill){this.flush();this.previousFill=i}this.buffer[this.bufferLen++]=t.x;this.buffer[this.bufferLen++]=t.y;this.bufferLen>=this.BUFFER_SIZE&&this.flush()};_GLDrawPoints.prototype.flush=function(){if(0!=this.bufferLen){var i=this.gl;i.useProgram(this.shaderProgram);var e=new t.Color(this.previousFill);i.uniform4f(this.colorLocation,e.r/255,e.g/255,e.b/255,e.a>0?1:0);i.enableVertexAttribArray(this.positionAttributeLocation);i.bindBuffer(i.ARRAY_BUFFER,this.positionBuffer);i.vertexAttribPointer(this.positionAttributeLocation,2,i.FLOAT,!1,0,0);i.bufferSubData(i.ARRAY_BUFFER,0,this.buffer.subarray(0,this.bufferLen));i.drawArrays(i.POINTS,0,this.bufferLen/2);this.bufferLen=0}};Object.defineProperty(_GLDrawPoints.prototype,"vsSource",{get:function(){return this._vsSource1},enumerable:!0,configurable:!0})}(r),function(i){__extends(_GLDrawLines,i);function _GLDrawLines(t){var e=i.call(this,t)||this;e.BUFFER_SIZE=1e6;e.init();return e}_GLDrawLines.prototype.initBuffers=function(){if(!this.buffer){var t=this.gl;this.buffer=new Float32Array(4*this.BUFFER_SIZE);t.enableVertexAttribArray(this.positionAttributeLocation);t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer);t.vertexAttribPointer(this.positionAttributeLocation,2,t.FLOAT,!1,0,0);t.bufferData(t.ARRAY_BUFFER,4*this.buffer.length,t.DYNAMIC_DRAW)}};_GLDrawLines.prototype.drawLines=function(i,e,r,n,o){void 0===o&&(o=null);this.initBuffers();var s=r||i.length,a=this.gl;a.useProgram(this.shaderProgram);if(o){a.enable(a.SCISSOR_TEST);a.scissor(o.left,a.canvas.height-o.bottom,o.width,o.height)}var h=new t.Color(n);a.uniform4f(this.colorLocation,h.r/255,h.g/255,h.b/255,h.a>0?1:0);a.enableVertexAttribArray(this.positionAttributeLocation);a.bindBuffer(a.ARRAY_BUFFER,this.positionBuffer);a.vertexAttribPointer(this.positionAttributeLocation,2,a.FLOAT,!1,0,0);for(var u=0;u<s;u++){this.buffer[2*u]=i[u];this.buffer[2*u+1]=e[u]}a.bufferSubData(a.ARRAY_BUFFER,0,this.buffer.subarray(0,2*s));a.enableVertexAttribArray(this.positionAttributeLocation);a.bindBuffer(a.ARRAY_BUFFER,this.positionBuffer);a.vertexAttribPointer(this.positionAttributeLocation,2,a.FLOAT,!1,0,0);a.drawArrays(a.LINE_STRIP,0,s);o&&a.disable(a.SCISSOR_TEST)};return _GLDrawLines}(r)),a=function(i){__extends(_GLDrawAreas,i);function _GLDrawAreas(t){var e=i.call(this,t)||this;e.BUFFER_SIZE=1e6;e.init();return e}_GLDrawAreas.prototype.initBuffers=function(){if(!this.buffer){var t=this.gl;this.buffer=new Float32Array(4*this.BUFFER_SIZE);t.enableVertexAttribArray(this.positionAttributeLocation);t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer);t.vertexAttribPointer(this.positionAttributeLocation,2,t.FLOAT,!1,0,0);t.bufferData(t.ARRAY_BUFFER,4*this.buffer.length,t.DYNAMIC_DRAW)}};_GLDrawAreas.prototype.drawPolygon=function(i,e,r,n){void 0===n&&(n=null);this.initBuffers();var o=i.length,s=this.gl;s.useProgram(this.shaderProgram);if(n){s.enable(s.SCISSOR_TEST);s.scissor(n.left,s.canvas.height-n.bottom,n.width,n.height)}var a=new t.Color(r);s.uniform4f(this.colorLocation,a.r/255,a.g/255,a.b/255,a.a>0?1:0);s.enableVertexAttribArray(this.positionAttributeLocation);s.bindBuffer(s.ARRAY_BUFFER,this.positionBuffer);s.vertexAttribPointer(this.positionAttributeLocation,2,s.FLOAT,!1,0,0);i[o-2],i[o-1];for(var h=e[o-2],u=0,f=0;f<o-2;f++){this.buffer[u++]=i[f];this.buffer[u++]=e[f];this.buffer[u++]=i[f];this.buffer[u++]=h}s.bufferSubData(s.ARRAY_BUFFER,0,this.buffer.subarray(0,u));s.enableVertexAttribArray(this.positionAttributeLocation);s.bindBuffer(s.ARRAY_BUFFER,this.positionBuffer);s.vertexAttribPointer(this.positionAttributeLocation,2,s.FLOAT,!1,0,0);s.drawArrays(s.TRIANGLE_STRIP,0,2*(o-2));n&&s.disable(s.SCISSOR_TEST)};return _GLDrawAreas}(r)}(i.webgl||(i.webgl={}))}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));!function(t){!function(i){i.webgl||(i.webgl={}),t._registerModule("wijmo.chart.webgl",t.chart.webgl)}(t.chart||(t.chart={}))}(wijmo||(wijmo={}));