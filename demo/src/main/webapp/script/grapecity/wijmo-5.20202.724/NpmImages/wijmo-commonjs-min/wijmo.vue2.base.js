/*!
    *
    * Wijmo Library 5.20202.724
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var wijmo_1=require("wijmo/wijmo"),VueModule=require("vue"),vue_1=require("vue"),Vue=vue_1.default||VueModule;exports.VueApi=Vue.version&&"3"===Vue.version[0]?{isV3Plus:!0,modelValueProp:"modelValue",extend:function(e){return e},h:Vue.h,render:Vue.render}:Vue;var WjVueBase=exports.VueApi.extend({beforeCreate:function(){var e=this.$options[WjComponentBehavior._behClassProp];e&&(this[WjComponentBehavior._behProp]=e._attach(this))},mounted:function(){this[WjComponentBehavior._behProp].lhMounted()},destroyed:function(){this[WjComponentBehavior._behProp].lhDestroyed()}}),WjComponentBehavior=function(){function WjComponentBehavior(e){this._isMounted=!1;this._mountedCBs=[];this.component=e}WjComponentBehavior._attach=function(e){return new this(e)};WjComponentBehavior.register=function(){var e,t=((e={data:this.data,extends:WjVueBase,render:this.render,props:this._getProps(),model:this._getModel()})[WjComponentBehavior._behClassProp]=this,e);return exports.VueApi.isV3Plus?__assign({},t,{emits:this._getEmits()}):exports.VueApi.component(this.tag,t)};WjComponentBehavior.prototype.lhMounted=function(){var e=this;if(this._isChild()){var t=this.component.$parent;if(t){this.parent=t[WjComponentBehavior._behProp];this.parent._mountedCB((function(){e._prepareControl();e._initParent()}))}}else this._prepareControl()};WjComponentBehavior.prototype.lhDestroyed=function(){this._siblingInsertedEH&&this._getElement().removeEventListener("DOMNodeInserted",this._siblingInsertedEH);var e=this.control;if(e)if(this._isChild()){var t=this._getParentProp();if(t){var o=this.parent.control[t];if(wijmo_1.isArray(o)){var n=o.indexOf(e);n>-1&&o.splice(n,1)}}}else e instanceof wijmo_1.Control&&e.dispose()};WjComponentBehavior._getProps=function(){var e=[];this.props&&(e=this.props);this.events&&(e=e.concat(this.events));this.changeEvents&&(e=e.concat(Object.keys(this.changeEvents)));exports.VueApi.isV3Plus&&this.modelProp&&e.push(exports.VueApi.modelValueProp);return e};WjComponentBehavior._getModel=function(){var e=this.modelProp;return e?{prop:e,event:"update:"+e}:null};WjComponentBehavior._getEmits=function(){var e=this;if(!this.changeEvents)return[];var t=[];Object.keys(this.changeEvents).forEach((function(o){return e.changeEvents[o].forEach((function(e){t.indexOf(e)<0&&t.push(e)}))}));this.modelProp&&t.push(exports.VueApi.modelValueProp);return t.map((function(e){return"update:"+e}))};WjComponentBehavior.prototype._createControl=function(){var e=this._isChild()?this._isParentInCtor()?this.parent.control:void 0:this._getElement();return new(this.constructor._getControlType())(e)};WjComponentBehavior.prototype._initParent=function(){var e=this._getParentProp();if(e){var t=this.parent.control,o=t[e];if(wijmo_1.isArray(o)){var n=this._getSiblingIndex();(n<0||n>=o.length)&&(n=o.length);o.splice(n,0,this.control);this._siblingInsertedEH=this._siblingInserted.bind(this);this._getElement().addEventListener("DOMNodeInserted",this._siblingInsertedEH)}else t[e]=this.control}};WjComponentBehavior.prototype._updateControl=function(e,t){this.control[e]=t};WjComponentBehavior.prototype._prepareControl=function(){var e=this.control=this._createControl(),t=this._getElement(),o=this.constructor;this.component.control=e;if(!this._siblingId){null==o.siblingId&&(o.siblingId=++o._siblingDirId+"");this._siblingId=o.siblingId}t.setAttribute(o._typeSiblingIdAttr,this._siblingId);this._isMounted=!0;var n=this._mountedCBs;this._mountedCBs=[];for(var i=0,r=n;i<r.length;i++){(0,r[i])()}_initialize(this)};WjComponentBehavior.prototype._isChild=function(){var e=this.constructor;return null!=e.parentProp||null!=e.parentInCtor};WjComponentBehavior.prototype._isParentInCtor=function(){return!0===this.constructor.parentInCtor};WjComponentBehavior.prototype._getParentProp=function(){return(exports.VueApi.isV3Plus?this.component.$props:this.component.$options.propsData).wjProperty||this.constructor.parentProp};WjComponentBehavior.prototype._getSiblingIndex=function(){var e=this._getElement(),t=e.parentElement;if(!t)return-1;for(var o=t.childNodes,n=-1,i=this._siblingId,r=0;r<o.length;r++){var s=o[r];if(1==s.nodeType&&s.getAttribute(WjComponentBehavior._typeSiblingIdAttr)==i){++n;if(s===e)return n}}return-1};WjComponentBehavior.prototype._siblingInserted=function(e){if(e.target===this._getElement()){var t=this._getSiblingIndex(),o=this.control,n=this.parent.control[this._getParentProp()],i=n.indexOf(o);if(t>=0&&i>=0&&t!==i){n.splice(i,1);t=Math.min(t,n.length);n.splice(t,0,o)}}};WjComponentBehavior.prototype._getElement=function(){return this.component.$el};WjComponentBehavior._getControlType=function(){return this.classCtor()};WjComponentBehavior.prototype._mountedCB=function(e){this._isMounted?e():this._mountedCBs.push(e)};WjComponentBehavior.render=function(e){var t=this.$slots.default;return exports.VueApi.isV3Plus?exports.VueApi.h("div",{},[t&&t()]):e("div",[t])};WjComponentBehavior._typeSiblingIdAttr="_wjSiblingId";WjComponentBehavior._behClassProp="_wjBehCl";WjComponentBehavior._behProp="__wjBeh";WjComponentBehavior._propIdxMapProp="__propInitIdx";WjComponentBehavior._siblingDirId=0;return WjComponentBehavior}();exports.WjComponentBehavior=WjComponentBehavior;function _initialize(e){var t=e.component,o=e.control,n=e.constructor,i=n[WjComponentBehavior._propIdxMapProp];if(!i){i=n[WjComponentBehavior._propIdxMapProp]={};var r=n.props;if(r)for(var s=0;s<r.length;s++)i[r[s]]=s}var p=[],a=[],h=[],u=n.changeEvents||{},l=exports.VueApi.isV3Plus?t.$props:t.$options.propsData,d=n.modelProp;for(var c in l)null!=i[c]?p.push(c):u[c]?h.push(c):a.push(c);exports.VueApi.isV3Plus&&d&&l.hasOwnProperty(exports.VueApi.modelValueProp)&&!l.hasOwnProperty(d)&&p.push(d);p.sort((function(e,t){return i[e]-i[t]}));t[WjComponentBehavior._behProp].constructor.extraProps;function _subscribeEvents(e){e.forEach((function(e){"initialized"!==e&&e.indexOf(".")<0&&wijmo_1.isFunction(t[e])&&o[e].addHandler(t[e],o)}))}_subscribeEvents(a);p.forEach((function(e){if(exports.VueApi.isV3Plus){var o=exports.VueApi.modelValueProp;if(wijmo_1.isUndefined(t[e])){if(e===d&&!wijmo_1.isUndefined(t[o])){t[WjComponentBehavior._behProp]._updateControl(e,t[o]);t.$watch(o,_updateControl.bind({cmp:t,prop:d}))}}else t[WjComponentBehavior._behProp]._updateControl(e,t[e]);t.$watch(e,_updateControl.bind({cmp:t,prop:e}))}else{wijmo_1.isUndefined(t[e])||t[WjComponentBehavior._behProp]._updateControl(e,t[e]);t.$watch(e,_updateControl.bind({cmp:t,prop:e}))}}));function _updateControl(e){this.cmp[WjComponentBehavior._behProp]._updateControl(this.prop,e)}!function _updateStyleProp(){var e=t.$el,n={};if("style"in o&&e.style.cssText.length){e.style.cssText.split(";").forEach((function(e){var t=e.split(":");2==t.length&&(n[t[0].trim()]=t[1].trim())}));o.style=n}}();_subscribeEvents(h);if(u)for(var _=0,v=Object.keys(u);_<v.length;_++){var m=v[_];_subscribeChangeEvents(m,u[m],o,t)}function _subscribeChangeEvents(e,t,o,n){if(t){var i=o[e];i instanceof wijmo_1.Event&&i.addHandler((function(e,o){for(var i=0,r=t;i<r.length;i++){var s=r[i];n.$emit("update:"+s,e[s]);if(exports.VueApi.isV3Plus&&s===d&&wijmo_1.isUndefined(n[s])){var p=exports.VueApi.modelValueProp;wijmo_1.isUndefined(n[p])||n.$emit("update:"+p,e[s])}}}),o)}}wijmo_1.isFunction(t.initialized)&&t.initialized(o);return o}exports._initialize=_initialize;