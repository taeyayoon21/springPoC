/*!
    *
    * Wijmo Library 5.20202.724
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const wijmo_1=require("wijmo/wijmo"),wijmo_grid_1=require("wijmo/wijmo.grid"),selfModule=require("wijmo/wijmo.grid.multirow");class _Cell extends wijmo_grid_1.Column{constructor(e){super();this._row=this._col=0;this._rowspan=this._colspan=1;wijmo_1.copy(this,e)}get row(){return this._row}set row(e){this._row=wijmo_1.asInt(e,!1,!0)}get col(){return this._col}set col(e){this._col=wijmo_1.asInt(e,!1,!0)}get colspan(){return this._colspan}set colspan(e){this._colspan=wijmo_1.asInt(e,!1,!0);wijmo_1.assert(this._colspan>0,"colspan must be >= 1")}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=wijmo_1.asInt(e,!1,!0);wijmo_1.assert(this._rowspan>0,"colspan must be >= 1")}}exports._Cell=_Cell;class _MultiRow extends wijmo_grid_1.Row{constructor(e,t,o){super(e);this._idxData=t;this._idxRecord=o}get recordIndex(){return this._idxRecord}}exports._MultiRow=_MultiRow;class _MultiGroupRow extends wijmo_grid_1.GroupRow{constructor(e,t){super(e);this._idxRecord=t}get recordIndex(){return this._idxRecord}get hasChildren(){return!0}getCellRange(){let e=this._getLastRowInHeader();return e!=this?e.getCellRange():super.getCellRange()}get isCollapsed(){return this._getLastRowInHeader()._getFlag(wijmo_grid_1.RowColFlags.Collapsed)}set isCollapsed(e){let t=this._getLastRowInHeader();e!=t.isCollapsed&&null!=t._list&&t._setCollapsed(wijmo_1.asBoolean(e))}_setCollapsed(e){let t=this.grid,o=t.rows,s=this.getCellRange(),l=new wijmo_grid_1.CellRangeEventArgs(t.cells,new wijmo_grid_1.CellRange(this.index,-1));if(t.onGroupCollapsedChanging(l)){t.deferUpdate(()=>{o.deferUpdate(()=>{this._setFlag(wijmo_grid_1.RowColFlags.Collapsed,e,!0);for(let t=s.topRow+1;t<=s.bottomRow&&t>-1&&t<o.length;t++){o[t]._setFlag(wijmo_grid_1.RowColFlags.ParentCollapsed,e,!0);let s=o[t];if(s instanceof _MultiGroupRow){let l=s._getLastRowInHeader();for(t+=1;t<=l.index;t++)(s=o[t])._setFlag(wijmo_grid_1.RowColFlags.ParentCollapsed,e,!0);t--}s instanceof wijmo_grid_1.GroupRow&&s.isCollapsed&&(t=s.getCellRange().bottomRow)}})});t.onGroupCollapsedChanged(l)}}_getLastRowInHeader(){let e=this.grid,t=this;if(e.multiRowGroupHeaders){let o=e.rows,s=this.dataItem;for(let e=this.index+1;e<o.length&&o[e].dataItem==s;e++)t=o[e]}wijmo_1.assert(t instanceof _MultiGroupRow,"last row in header should be a _MultiRowGroup");return t}}exports._MultiGroupRow=_MultiGroupRow;class MultiRow extends wijmo_grid_1.FlexGrid{constructor(e,t){super(e);this._centerVert=!0;this._collapsedHeaders=!1;this._multiRowGroupHeaders=!1;this._rowHdrCnt=0;this.collapsedHeadersChanging=new wijmo_1.Event;this.collapsedHeadersChanged=new wijmo_1.Event;this._layout=new _MultiRowLayout(this,null);wijmo_1.addClass(this.hostElement,"wj-multirow");let o=this.columnHeaders.hostElement.parentElement,s=wijmo_1.createElement('<div class="wj-hdr-collapse"><span></span></div>');s.style.display="none";o.appendChild(s);this._btnCollapse=s;this._updateButtonGlyph();this.addEventListener(s,"mousedown",e=>{switch(this.collapsedHeaders){case null:case!1:this._collapsedHeadersWasNull=null==this.collapsedHeaders;this.collapsedHeaders=!0;break;case!0:this.collapsedHeaders=!!this._collapsedHeadersWasNull&&null}e.preventDefault();this.focus()},!0);let l=this.hostElement;this.addEventListener(l,"mousedown",e=>{if(!this._mouseHdl._szRowCol){let t=this._layout?this._layout._bindingGroups:null;if(t&&t[0].isRowHeader){let t=this.hitTest(e);if(t.panel==this.columnHeaders&&t.col<this.frozenColumns){e.preventDefault();this.selectAll()}}}},!0);this.removeEventListener(l,"dragover");this.removeEventListener(l,"dragleave");this.removeEventListener(l,"dragdrop");this._addHdl=new _MultiRowAddNewHandler(this);this.formatItem.addHandler(this._formatItem,this);this.autoGenerateColumns=!1;this.allowDragging=wijmo_grid_1.AllowDragging.None;this.mergeManager=new _MergeManager(this);this.initialize(t)}_getProductInfo(){return"H87K,MultiRow"}get layoutDefinition(){return this._layoutDef}set layoutDefinition(e){this._layoutDef=wijmo_1.asArray(e);this._layout=new _MultiRowLayout(this,e);this._rowHdrCnt=0;if(this._layout){let e=this._layout._bindingGroups;for(let t=0;t<e.length;t++){let o=e[t];if(!o.isRowHeader)break;this._rowHdrCnt=o._colstart+o.colspan;o.cells.forEach(e=>{e.isReadOnly=!0;!e.header||e.binding||e.cellTemplate||(e.cellTemplate=e.header);e.cssClass?e.cssClass.indexOf("wj-header")<0&&(e.cssClass+=" wj-header"):e.cssClass="wj-header"})}}this.frozenColumns=this._rowHdrCnt;this._bindGrid(!0);this._rowHdrCnt&&this.selectionMode&&this.select(this.selection.row,this._rowHdrCnt)}get headerLayoutDefinition(){return this._hdrLayoutDef}set headerLayoutDefinition(e){this._hdrLayoutDef=wijmo_1.asArray(e);this._hdrLayout=e?new _MultiRowLayout(this,e):null;this._bindGrid(!0)}get rowsPerItem(){return this._layout._rowsPerItem}getBindingColumn(e,t,o){return this._getBindingColumn(e,t,e.columns[o])}getColumn(e){if(wijmo_1.isString(e)){let t=this._layout._bindingGroups,o=null;for(let s=0;s<t.length&&!o;s++)o=t[s].getColumn(e);return o}return super.getColumn(e)}get centerHeadersVertically(){return this._centerVert}set centerHeadersVertically(e){if(e!=this._centerVert){this._centerVert=wijmo_1.asBoolean(e);this.invalidate()}}get collapsedHeaders(){return this._collapsedHeaders}set collapsedHeaders(e){if(e!=this._collapsedHeaders){let t=new wijmo_1.CancelEventArgs;if(this.onCollapsedHeadersChanging(t)){this._collapsedHeaders=wijmo_1.asBoolean(e,!0);this._updateCollapsedHeaders();this._updateButtonGlyph();this.onCollapsedHeadersChanged(t)}}}get showHeaderCollapseButton(){return""==this._btnCollapse.style.display}set showHeaderCollapseButton(e){e!=this.showHeaderCollapseButton&&(this._btnCollapse.style.display=wijmo_1.asBoolean(e)?"":"none")}get multiRowGroupHeaders(){return this._multiRowGroupHeaders}set multiRowGroupHeaders(e){if(e!=this._multiRowGroupHeaders){this._multiRowGroupHeaders=wijmo_1.asBoolean(e);this._bindGrid(!0)}}onCollapsedHeadersChanging(e){this.collapsedHeadersChanging.raise(this,e);return!e.cancel}onCollapsedHeadersChanged(e){this.collapsedHeadersChanged.raise(this,e)}get allowPinning(){return!1}set allowPinning(e){wijmo_1.assert(!e,"MultiRow does not support pinning.")}onSelectionChanging(e){let t=e._rng;if(t&&t.isValid&&this.selectionMode){let e=this._mouseHdl._htDown,o=this.rows,s=this.columns,l=this._rowHdrCnt;if(l){t.col=Math.max(t.col,l);t.col2=Math.max(t.col2,l)}if(e&&(e.panel==this.rowHeaders||e.panel==this.cells&&e.col<l)){let e=o[t.topRow],l=o[t.bottomRow];if(e&&null!=e.recordIndex){let o=e.index-e.recordIndex,i=l instanceof _MultiGroupRow&&!this._multiRowGroupHeaders?1:this.rowsPerItem,r=l.index-l.recordIndex+i-1,n=s.length-1,a=t.row!=t.topRow?new wijmo_grid_1.CellRange(r,0,o,n):new wijmo_grid_1.CellRange(o,0,r,n);t.row=a.row;t.row2=a.row2;t.col2=n;switch(this.selectionMode){case wijmo_grid_1.SelectionMode.Cell:t.row2=a.row;t.col2=a.col;break;case wijmo_grid_1.SelectionMode.Row:t.row2=a.row}}}}return super.onSelectionChanging(e)}_getDeleteColumnIndex(){return this._rowHdrCnt}_getQuickAutoSize(){return wijmo_1.isBoolean(this.quickAutoSize)?this.quickAutoSize:this.formatItem.handlerCount<=1&&null==this.itemFormatter}_addBoundRow(e,t){let o=e[t];for(let e=0;e<this.rowsPerItem;e++)this.rows.push(new _MultiRow(o,t,e))}_addNode(e,t,o){this._addBoundRow(e,t)}_addGroupRow(e){let t=this._multiRowGroupHeaders?this.rowsPerItem:1;for(let o=0;o<t;o++)this.rows.push(new _MultiGroupRow(e,o))}_bindColumns(){let e=this.columnHeaders.rows,t=this._layout,o=this._hdrLayout,s=(o?o._rowsPerItem:this.rowsPerItem)+1;for(;e.length>s;)e.removeAt(e.length-1);for(;e.length<s;)e.push(new wijmo_grid_1.Row);this._updateCollapsedHeaders();this.columns.clear();t&&t._bindingGroups.forEach(e=>{for(let t=0;t<e._colspan;t++){let o=new wijmo_grid_1.Column;for(let s=0;s<e.cells.length;s++){let l=e.cells[s];if(l._col==t){"width,minWidth,maxWidth,binding,header,format,dataMap,name,aggregate,cellTemplate".split(",").forEach(e=>{null!=l[e]&&(o[e]=l[e])});break}}this.columns.push(o)}})}_updateCollapsedHeaders(){let e=this.columnHeaders.rows,t=this.collapsedHeaders;e[0].visible=0!=t;for(let o=1;o<e.length;o++)e[o].visible=1!=t}_updateColumnTypes(){super._updateColumnTypes();let e=this.collectionView;if(wijmo_1.hasItems(e)){let t=e.items[0];this._layout&&this._layout._updateCellTypes(t);this._hdrLayout&&this._hdrLayout._updateCellTypes(t)}}_getBindingColumn(e,t,o){if(e==this.cells||e==this.columnHeaders){let s=e.cellType==wijmo_grid_1.CellType.ColumnHeader;s&&t--;o=this._getGroupByColumn(o.index,s).getBindingColumn(e,t,o.index)}return o}_getBindingColumns(){let e=[];this._layout._bindingGroups.forEach(t=>{t._cols.forEach(t=>{e.indexOf(t)<0&&e.push(t)})});return e}_cvCollectionChanged(e,t){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else{let e=wijmo_1.NotifyCollectionChangedAction;switch(t.action){case e.Change:this.invalidate();break;case e.Add:if(t.index==this.collectionView.items.length-1){let e=this.rows.length;for(;e>0&&this.rows[e-1]instanceof wijmo_grid_1._NewRowTemplate;)e--;for(let o=0;o<this.rowsPerItem;o++)this.rows.insert(e+o,new _MultiRow(t.item,t.index,o));return}wijmo_1.assert(!1,"added item should be the last one.");break;default:this._bindGrid(!1)}}}_getGroupByColumn(e,t){let o=null;t&&this._hdrLayout&&!this.collapsedHeaders&&(o=this._hdrLayout._getGroupByColumn(e));o||(o=this._layout._getGroupByColumn(e));wijmo_1.assert(o instanceof _CellGroup,"Failed to get the group!");return o}_formatItem(e,t){let o=this.rowsPerItem,s=t.panel,l=s.cellType,i=s.rows[t.range.row],r=s.rows[t.range.row2],n=t.cell;l==wijmo_grid_1.CellType.ColumnHeader&&wijmo_1.toggleClass(n,"wj-group-header",0==t.range.row);if(l==wijmo_grid_1.CellType.Cell||l==wijmo_grid_1.CellType.ColumnHeader){let e=this._getGroupByColumn(t.col,l==wijmo_grid_1.CellType.ColumnHeader);wijmo_1.toggleClass(n,"wj-group-start",e._colstart==t.range.col);wijmo_1.toggleClass(n,"wj-group-end",e._colstart+e._colspan-1==t.range.col2)}if(o>1&&(l==wijmo_grid_1.CellType.Cell||l==wijmo_grid_1.CellType.RowHeader)){let e=i instanceof _MultiRow||i instanceof _MultiRowNewRowTemplate,t=r instanceof _MultiRow||r instanceof _MultiRowNewRowTemplate;wijmo_1.toggleClass(n,"wj-record-start",!!e&&0==i.recordIndex);wijmo_1.toggleClass(n,"wj-record-end",!!t&&r.recordIndex==o-1)}let a=this.alternatingRowStep;if(a){let e=!1;if(i instanceof _MultiRow){e=i.dataIndex%(a+1)==0;1==a&&(e=!e)}wijmo_1.toggleClass(n,"wj-alt",e)}if(this._centerVert&&!n.getAttribute("wj-state-measuring")){let e=!1;if(n.innerHTML&&t.range.rowSpan>1){e=!0;if(0==n.childElementCount)n.innerHTML="<div>"+n.innerHTML+"</div>";else{let e=document.createElement("div"),t=document.createRange();t.selectNodeContents(n);t.surroundContents(e)}}wijmo_1.toggleClass(n,"wj-center-vert",e)}}_updateButtonGlyph(){let e=this._btnCollapse.querySelector("span");e instanceof HTMLElement&&(e.className=this.collapsedHeaders?"wj-glyph-left":"wj-glyph-down-left")}_getError(e,t,o,s){if(wijmo_1.isFunction(this.itemValidator)&&e==this.rowHeaders)for(let e=0;e<this.rowsPerItem;e++)for(o=0;o<this.columns.length;o++){let l=this.itemValidator(t+e,o,s);if(l)return l}return super._getError(e,t,o,s)}}exports.MultiRow=MultiRow;class _MultiRowAddNewHandler extends wijmo_grid_1._AddNewHandler{constructor(e){e._addHdl._detach();super(e)}updateNewRowTemplate(){let e=this._g.editableCollectionView,t=this._g,o=t.rows,s=e&&e.canAddNew&&t.allowAddNew&&!t.isReadOnly,l=-1;for(let e=0;e<o.length;e+=t.rowsPerItem)if(o[e]instanceof _MultiRowNewRowTemplate){l=e;break}if(s&&l>-1&&(this._top&&l>0||!this._top&&0==l)){l=-1;this._removeNewRowTemplate()}if(s&&l<0)for(let e=0;e<t.rowsPerItem;e++){let t=new _MultiRowNewRowTemplate(e);this._top?o.insert(e,t):o.push(t)}!s&&l>-1&&this._removeNewRowTemplate()}_keydown(e){super._keydown(e);e.defaultPrevented||e.keyCode!=wijmo_1.Key.Escape||this._copyNewDataItem()}_rowEditEnded(e,t){super._rowEditEnded(e,t);this._copyNewDataItem()}_beginningEdit(e,t){super._beginningEdit(e,t);this._top&&!e.rows[0].dataItem&&this._copyNewDataItem()}_copyNewDataItem(){if(this._top){let e=this._g,t=e.rows;for(let o=0;o<e.rowsPerItem;o++)t[o]instanceof wijmo_grid_1._NewRowTemplate&&(t[o].dataItem=this._nrt.dataItem)}}_removeNewRowTemplate(){for(let e=0,t=this._g.rows;e<t.length;e++)if(t[e]instanceof wijmo_grid_1._NewRowTemplate){t.removeAt(e);e--}}}exports._MultiRowAddNewHandler=_MultiRowAddNewHandler;class _MultiRowNewRowTemplate extends wijmo_grid_1._NewRowTemplate{constructor(e){super();this._idxRecord=e}get recordIndex(){return this._idxRecord}}exports._MultiRowNewRowTemplate=_MultiRowNewRowTemplate;class _CellGroup extends _Cell{constructor(e,t){super();this._isRowHeader=!1;this._colstart=0;this._layout=e;this._g=e._grid;wijmo_1.copy(this,t);if(!this._cells)throw"Cell group with no cells?";let o=0,s=0;this._cells.forEach((e,t)=>{for(;!this._cellFits(e,t,o,s);)0==(s=(s+1)%this.colspan)&&o++;e.row=o;e.col=s});let l=1,i=1;this._cells.forEach(e=>{l=Math.max(l,e.row+e.rowspan);i=Math.max(i,e.col+e.colspan)});this.rowspan=l;this.colspan=i}_copy(e,t){if("cells"==e){this._cells=[];wijmo_1.isArray(t)&&t.forEach(e=>{let t=new _Cell(e);t.binding&&!t.header&&(t.header=wijmo_1.toHeaderCase(t.binding));this._cells.push(t);this.colspan=Math.max(this.colspan,t.colspan)});return!0}return!1}get cells(){return this._cells}get isRowHeader(){return this._isRowHeader}set isRowHeader(e){this._isRowHeader=wijmo_1.asBoolean(e)}closeGroup(e){if(e>this.rowspan){this._cells.forEach(t=>{t.row==this.rowspan-1&&(t.rowspan=e-t.row)});this.rowspan=e}this._cells.forEach(e=>{for(;e.col+e.colspan<this.colspan&&!this._slotTaken(e.row,e.col+e.colspan);)e.colspan++});this._cells.forEach(e=>{for(;e.row+e.rowspan<this.rowspan&&!this._slotTaken(e.row+e.rowspan,e.col);)e.rowspan++});for(let e=0;e<this.rowspan;e++)for(let t=0;t<this.colspan;t++)wijmo_1.assert(this._slotTaken(e,t),"Invalid layout (empty cells).");this._cols=new wijmo_grid_1.ColumnCollection(this._g,this._g.columns.defaultSize);this._rng=new Array(e*this.colspan);this._cells.forEach(e=>{for(let t=0;t<e.rowspan;t++)for(let o=0;o<e.colspan;o++){let s=(e.row+t)*this.colspan+e.col+o;this._cols.setAt(s,e);let l=new wijmo_grid_1.CellRange(0-t,0-o,0-t+e.rowspan-1,0-o+e.colspan-1);l.isSingleCell||(this._rng[s]=l)}});let t=this._colstart;this._rng[-1]=new wijmo_grid_1.CellRange(0,t,0,t+this.colspan-1);this._hasAggregates=!1;for(let e=0;e<this._cells.length&&!this._hasAggregates;e++)this._hasAggregates=0!=this._cells[e].aggregate}getColumnWidth(e){for(let t=0;t<this._cells.length;t++){let o=this._cells[t];if(o.col==e&&1==o.colspan)return o.width}return null}getMergedRange(e,t,o){if(t<0)return this._rng[-1];let s=e.rows[t],l=null!=s.recordIndex?s.recordIndex:t%this.rowspan,i=o-this._colstart,r=this._rng[l*this.colspan+i];e.cellType==wijmo_grid_1.CellType.ColumnHeader&&t++;if(e.cellType==wijmo_grid_1.CellType.Cell&&s instanceof _MultiGroupRow){let o=e.grid;if(o.multiRowGroupHeaders&&!this._hasAggregates){let e=o._layout._bindingGroups,s=e.indexOf(this),l=o.rowsPerItem;(r=new wijmo_grid_1.CellRange(Math.floor(t/l)*l,this._colstart)).row2+=l-1;r.col2+=this.colspan-1;for(let t=s-1;t>=0&&!e[t]._hasAggregates;t--)r.col-=e[t].colspan;for(let t=s+1;t<e.length&&!e[t]._hasAggregates;t++)r.col2+=e[t].colspan;return r}}return r?new wijmo_grid_1.CellRange(t+r.row,o+r.col,t+r.row2,o+r.col2):null}getBindingColumn(e,t,o){if(t<0)return this;let s=e.rows[t],l=s&&null!=s.recordIndex?s.recordIndex:t%this.rowspan,i=o-this._colstart;return this._cols[l*this.colspan+i]}getColumn(e){return this._cols.getColumn(e)}_cellFits(e,t,o,s){if(s>0&&s+e.colspan>this.colspan)return!1;for(let l=0;l<e.colspan;l++)if(this._slotTaken(o,s+l,t))return!1;this.colspan=Math.max(this.colspan,s+e.colspan-1);return!0}_slotTaken(e,t,o=this._cells.length){for(let s=0;s<o;s++){let o=this._cells[s];if(e>=o.row&&e<=o.row+o.rowspan-1&&t>=o.col&&t<=o.col+o.colspan-1)return!0}return!1}}exports._CellGroup=_CellGroup;class _MergeManager extends wijmo_grid_1.MergeManager{getMergedRange(e,t,o,s=!0){let l=e.grid;if(t<0||t>=e.rows.length||o<0||o>=e.columns.length)return null;switch(e.cellType){case wijmo_grid_1.CellType.Cell:case wijmo_grid_1.CellType.RowHeader:if(e.rows[t]instanceof wijmo_grid_1.GroupRow&&!l.multiRowGroupHeaders)return super.getMergedRange(e,t,o,s)}switch(e.cellType){case wijmo_grid_1.CellType.Cell:case wijmo_grid_1.CellType.ColumnHeader:let s=e.cellType==wijmo_grid_1.CellType.ColumnHeader,i=l._getGroupByColumn(o,s);wijmo_1.assert(i instanceof _CellGroup,"Failed to get the group!");let r=s?i.getMergedRange(e,t-1,o):i.getMergedRange(e,t,o),n=e.columns.frozen;if(n&&r&&r.columnSpan>1&&r.col<n&&r.col2>=n){r=r.clone();o<n?r.col2=n-1:r.col=n}let a=e.rows.frozen;if(a&&r&&r.rowSpan>1&&e.cellType==wijmo_grid_1.CellType.Cell&&r.row<a&&r.row2>=a){r=r.clone();t<a?r.row2=a-1:r.row=a}wijmo_1.assert(!r||r.contains(t,o),"Merged range must contain source cell");return r;case wijmo_grid_1.CellType.RowHeader:let d=l.rowsPerItem,_=t-e.rows[t].recordIndex,h=Math.min(_+d-1,e.rows.length-1);return new wijmo_grid_1.CellRange(_,0,h,e.columns.length-1);case wijmo_grid_1.CellType.TopLeft:return new wijmo_grid_1.CellRange(0,0,e.rows.length-1,e.columns.length-1)}return null}}exports._MergeManager=_MergeManager;class _MultiRowLayout{constructor(e,t){this._rowsPerItem=1;this._bindingGroups=[];this._groupsByColumn={};this._grid=e;this._bindingGroups=this._parseCellGroups(t)}_parseCellGroups(e){let t=[],o=1;if(e){for(let s=0,l=0;s<e.length;s++){let i=new _CellGroup(this,e[s]);i._colstart=l;l+=i._colspan;o=Math.max(o,i._rowspan);t.push(i)}t.forEach(e=>{e.closeGroup(o)});this._rowsPerItem=o}return t}_getGroupByColumn(e){let t=this._groupsByColumn[e];if(!t){let o=this._bindingGroups;for(let s=0;s<o.length;s++)if(e>=(t=o[s])._colstart&&e<=t._colstart+t._colspan-1){this._groupsByColumn[e]=t;break}}return t}_updateCellTypes(e){this._bindingGroups.forEach(t=>{t._cols.forEach(t=>{null==t.dataType&&t._binding&&(t.dataType=wijmo_1.getType(t._binding.getValue(e)));if(!t.isReadOnly){let o=wijmo_1.isIE()?null:Object.getOwnPropertyDescriptor(e,t.binding);t.isReadOnly=o&&!o.writable&&!o.set}})})}}exports._MultiRowLayout=_MultiRowLayout;wijmo_1._registerModule("wijmo.grid.multirow",selfModule);